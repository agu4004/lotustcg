ğŸ’¡ **Meta-task**
Transform the current Flask storefront into a fully tested, 100 %-passing project.

### 1 â–ª Scan & Inventory
â€¢ Use `inspect.getmembers()` on each module in the `routes/`, `storage.py`, and any util files to collect every user-defined function and class method.  
â€¢ Exclude dunder methods and anything imported from third-party libs.

### 2 â–ª Generate Tests (pytest + coverage)
â€¢ Scaffold `tests/` with pytest files mirroring the module hierarchy.  
â€¢ For each discovered function:
  â€“ Write a happy-path test using realistic fixtures (e.g., Flask test-client for route handlers, sample `CARDS` dict for storage logic).  
  â€“ If the function has branch logic, add edge-case and failure-mode tests.  
â€¢ Add `conftest.py` that provides a `app` and `client` fixture via `flask.testing.FlaskClient`.  
â€¢ Integrate **coverage.py**: run with `pytest --cov=. --cov-report=term-missing`.

### 3 â–ª Detect & Repair
â€¢ After the first test run, parse pytest results; for each **ERROR** or **FAILED** case:  
  â€“ If failure is due to a **missing attribute/function**, generate the minimal implementation with type hints and a TODO comment.  
  â€“ If failure is due to **incorrect behaviour**, read the assertion diff and refactor the target function until the test passes.  
  â€“ Re-run only the affected tests (use `pytest -k <name>`). Iterate until green.  
â€¢ Repeat until `pytest` exits with code 0 and coverage â‰¥ 90 %.

### 4 â–ª CI Helper
â€¢ Add a `watch_tests.sh` script that runs `pytest --verbose --maxfail=1` on every file-save (use `entr` on Replit).  
â€¢ Document the workflow in `README.md`: how to run `pytest`, view coverage, and extend tests.

### 5 â–ª Guardrails
â€¢ Never modify third-party packages.  
â€¢ Keep code Python 3.11-compatible and black-formatted.  
â€¢ Preserve existing Flask routes and session logic; only refactor internals.  
â€¢ Commit each green-test state with a message â€œgreen: <module>â€.

ğŸš€ **Acceptance Criteria**
1. `pytest -q` returns all dots.  
2. `coverage html` shows â‰¥ 90 % lines covered.  
3. Manual smoke-test: start Gunicorn (`poetry run gunicorn -b 0.0.0.0:3000 app:app`) and verify admin CRUD and user browsing still work.
